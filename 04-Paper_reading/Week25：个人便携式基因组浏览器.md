# Week25：个人便携式基因组浏览器
---

**题目： GIVE: portable genome browsers for personal websites**



**Abstract**

基因组数据的日益普及和多样化需要便携式和通用的基因组浏览器。在这里，研究者提出了一个名为GIVE的开源编程库，它有助于创建个性化的基因组浏览器，而无需系统管理员。通过插入HTML标签，可以向个人网页添加多种类型的基因组数据的交互式可视化，包括基因组注释，“线性”定量数据和基因组交互数据。 GIVE包含一个名为HUG（HTML Universal Generator）的图形界面，可自动生成用于显示用户所选数据的HTML代码，可以将其复制粘贴到用户的个人网站中，也可以保存并与协作者共享。可通过以下网址获取GIVE：https：//www.givengine.org/。

**Background**

基因组学数据变得越来越流行和多样化，为个性化数据管理和可视化带来了新的挑战。一方面，有兴趣公开其基因组数据的人需要“研究人员和政策制定者人们何时在Facebook上分享他们的基因组”。该运动要求开发便携式，通用且易于部署的基因组浏览器。理想情况下，便携式数据可视化工具可以像Google地图一样工作，可以插入个人网站。另一方面，新的数据类型，特别是那些代表全基因组相互作用的数据 - 包括基因组相互作用数据（Hi-C，ChIA-PET），转录组 - 基因组相互作用数据（MARGI，GRID-seq）和转录组相互作用数据（ PARIS，MARIO，LIGR-seq，SPLASH） - 需要兼容的可视化工具;理想情况下，应该可以与其他数据类型无缝地无缝显示这些数据，包括RNA测序（RNA-seq），染色质免疫沉淀测序（ChIP-seq）和使用测序的转座酶可访问染色质测定（ATAC-seq）。

设想未来的基因组浏览器可以像谷歌地图一样工作，只需很少的用户就可以在他们自己的网站上插入自定义版本。可重新部署的基因组浏览器是朝着这个目标发展的。仍然，发布具有基因组数据的交互式可视化的网站通常需要系统管理，数据库和网络编程工作。 GIVE项目旨在实现这项工作的自动化，并提供便携式轻量级基因组浏览器，具有基因组浏览器网站，桌面可执行文件以及个人主页和博客的互补优势。


研究者创建了开源GIVE编程库，以满足各种复杂程度的用户的多样化需求。名为GIVE HUG（HTML Universal Generator）的功能提供了一个图形界面，用于交互式生成HTML代码以显示用户选择的数据集。用户可以与协作者一起保存和共享HTML文件，或者将HTML代码复制粘贴到他们的网站中，这将导致嵌入式交互式数据显示。用户可以使用GIVE创建自定义基因组浏览器，而无需托管数据服务器，其中所有数据都是从公共数据服务器按需检索的。选择在自己的服务器上托管数据的用户可以使用GIVE-Toolbox中提供的命令执行此操作。通过几行HTML代码，GIVE使网站能够检索，集成和显示由多个服务器托管的各种数据类型，包括大型公共存储库和定制服务器。这种简单的使用来自于GIVE开发团队提供的新数据管理，通信和可视化技术的封装。这些技术的核心是新的数据结构和内存管理算法。

**Results**

**Overview of the GIVE library**


GIVE由HTML标记库和GIVE-Toolbox组成。前者是用于数据可视化的HTML标签库。 GIVE-Toolbox是一组命令行命令，可自动执行所有必要的数据库操作。对于可以在GIVE数据中心找到元数据的任何公共数据集，用户可以直接使用GIVE的HTML标记来显示此类数据，而无需调用GIVE-Toolbox。

GIVE的HTML标签库提供了构建各种基因组浏览器的灵活性，例如单细胞转录组网站（https://singlecell.givengine.org/），一个表观基因组网站（https://encode.givengine.org，基因组互动网站（https://mcf7.givengine.org/）和RNA染色质互动网站（https://margi.givengine.org/）。通过GIVE，用户可以构建数据可视化网站而无需托管实际数据（数据）托管在公共数据服务器上，数据托管网站或显示托管在用户服务器和公共服务器上的复合数据集的网站。支持GIVE的HTML文件也可以作为自定义软件使用和共享，它封装了数据和可视化功能。

![此处输入图片的描述][1]

这图是GIVE的表观基因组和基因组交互数据集的自定义基因组浏览器的屏幕截图。顶部基因组坐标覆盖整个染色体17（chr17：1-81,195,210）。从顶部开始的前三个数据轨道是MCF-7细胞中的RNA-seq，H3K27ac ChIP-seq，Pol2 ChIP-seq数据，显示对应于顶部基因组坐标。底部的基因组坐标显示chr17：45000000-55,000,000。底部的三个数据轨道是RNA-seq，H3K27ac ChIP-seq，Pol2 ChIP-seq数据显示对应于底部坐标。中心面板中的Hi-C相互作用数据显示基因组区域（顶部坐标）和其他基因组区域（底部坐标）之间的Hi-C衍生链接。 Hi-C衍生的基因组相互作用的强度以色标绘制，红色最强，绿色最弱

**Automatic webpage generation with GIVE HUG**


GIVE数据中心及其嵌入式功能HUG可以为用户选择的数据集自动生成交互式可视化网页，用于浏览公共数据服务器上托管的基因组数据集的元数据。此网页内部是元数据数据库，包括数据类型，数据描述和实际数据集的Web地址。 

HUG自动为任何用户选择的数据集生成HTML网页。要使用HUG，用户可以单击数据中心网站中的“HTML生成器模式“”，选择任何数据集，然后单击“生成”按钮。将弹出一个单独的窗口，该窗口汇总用户选择的数据集并提供生成的HTML代码。与谷歌地图一样，这种包含数据的基因组可视化HTML代码可以复制粘贴到个人网站中，也可以保存和共享。用户可以使用此交互式窗口的顶部以交互方式更改一些显示参数，然后点击“更新代码”按钮，从而生成包含用户指定的可视化参数的新HTML代码。 HUG提供了生成GIVE动力基因组浏览器网站的最简单方法。

**Managing custom data with GIVE-toolbox**


要添加和管理自定义数据，用户应首先下载并运行GIVE的主要可执行文件GIVE-Docker。 GIVE-Docker可以在所有主流操作系统上执行，无需特定于系统的配置。执行时，GIVE-Docker会自动设置Web服务器和数据库系统。此可执行文件中还包含一个工具箱（GIVE-Toolbox），它可以将所有数据库操作自动化为命令行命令（附加文件1：表S1），从而使用户无需使用数据库语言。以托管单细胞转录组（https://singlecell.givengine.org/）的网站为例，我们提供了构建托管自定义数据的网站的逐行示例。下载并运行GIVE-Docker后，我们将发出GIVE-Toolbox提供的命令来初始化参考基因组，添加基因注释，并加载自定义数据。然后插入HTML标签以显示数据。如果没有额外的编码，网站会自动配备一些互动功能。这些功能由封装在GIVE HTML标记中的JavaScript代码启用。

**Double layer display of genome interaction data**

用于基因组交互数据的可视化。在该显示格式中，平行绘制两个基因组坐标。基因组区域之间的相互作用显示为顶部和底部坐标之间的对应基因组区域的链接。当强度值与链接相关联时，使用不同颜色来显示其强度。这种双层显示策略有两个优点。首先，顶部和底部坐标可以覆盖不同的基因组区域，使其可视化远距离相互作用。用户可以独立地移动或缩放顶部和底部坐标，使其易于可视化，例如，从XIST基因座（RNA末端到整个X染色体的相互作用）。这种双层设计还使得显示不对称相互作用变得直观。

![此处输入图片的描述][2]


**Discussion**

IVE库旨在减少构建基于Web的基因组浏览器的专业知识和编程时间的需要。 GIVE是开源软件。开源性质允许整个社区为增强GIVE做出贡献。当该项目以较小的目标开始时，给出了名称GIVE（基因组交互可视化引擎）。虽然它已经发展成为一个更通用的库，但我们决定保留这个首字母缩略词。

一个重要的技术考虑因素是服务器和用户计算机之间的有效数据传输。这是因为用户通常希望在浏览数据时获得即时响应。为此，研究者开发了几种技术来优化数据传输的速度。中心思想是三重的，包括：（1）仅在查询区域中传输数据; （2）通过重复使用先前传输的数据来最小化重复数据传输; （3）仅以必要的分辨率传输数据。为了实现这些想法，我们开发了两种新的方法来索引基因组，并使用两个新的数据结构，即Oak和Pine，将这些方法形式化。



**后记**

改新工具很强大，读完文献后要找时间好好听会文章中所提到的各种功能，体会其运用道德核心的方法和原理。

  [1]: https://media.springernature.com/full/springer-static/image/art:10.1186/s13059-018-1465-6/MediaObjects/13059_2018_1465_Fig1_HTML.png
  [2]: https://media.springernature.com/full/springer-static/image/art:10.1186/s13059-018-1465-6/MediaObjects/13059_2018_1465_Fig2_HTML.png